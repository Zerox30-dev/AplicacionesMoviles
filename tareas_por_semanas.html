<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tareas por Semanas - Programación de Aplicaciones Móviles Web</title>  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  
  <style>
    :root {
      --primary-color: #4a90e2;
      --secondary-color: #2c3e50;
      --background-color: #1a1a1a;
      --text-color: #f0f0f0;
      --card-background: #2d2d2d;
      --header-background: #121212;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
      background-color: var(--background-color);
      color: var(--text-color);
      line-height: 1.6;
    }

    header {
      background-color: var(--header-background);
      color: white;
      padding: 2em 1em;
      text-align: center;
      box-shadow: 0 2px 10px rgba(0,0,0,0.3);
      position: relative;
      overflow: hidden;
    }

    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      opacity: 0.7;
      z-index: 0;
    }

    header h1 {
      margin: 0;
      font-size: 2.5em;
      position: relative;
      z-index: 1;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
    }

    header h2 {
      color: #f7f0f0;
      position: relative;
      z-index: 1;
    }

    nav {
      position: relative;
      z-index: 1;
    }

    nav ul {
      list-style: none;
      padding: 0;
      margin: 1em 0 0;
    }

    nav li {
      display: inline-block;
      margin-right: 20px;
    }

    nav a {
      color: white;
      text-decoration: none;
      font-weight: bold;
      transition: color 0.3s ease, transform 0.3s ease;
      display: inline-block;
    }

    nav a:hover {
      color: var(--primary-color);
      transform: translateY(-2px);
    }

    main {
      max-width: 1200px;
      margin: 2em auto;
      padding: 0 20px;
    }

    .semana {
      margin-bottom: 20px;
    }

    .semana-titulo {
      background-color: var(--primary-color);
      color: white;
      padding: 15px;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-radius: 8px 8px 0 0;
      transition: background-color 0.3s ease;
    }

    .semana-titulo:hover {
      background-color: #3a7bc8;
    }

    .tareas {
      display: none;
      padding: 15px;
    }

    /* Nuevos estilos para los ejercicios */
    .ejercicio-card {
      background-color: var(--card-background);
      border-radius: 8px;
      margin-bottom: 20px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0,0,0,0.2);
    }

    .ejercicio-header {
      background-color: var(--primary-color);
      padding: 15px;
      color: white;
      font-weight: bold;
      font-size: 1.1em;
      display: flex;
      align-items: center;
    }

    .ejercicio-header i {
      margin-right: 10px;
    }

    .ejercicio-content {
      padding: 20px;
    }

    .ejercicio-description {
      margin-bottom: 15px;
      padding: 10px;
      background-color: rgba(255, 255, 255, 0.05);
      border-radius: 4px;
      display: flex;
      align-items: flex-start;
    }

    .ejercicio-description i {
      margin-right: 10px;
      margin-top: 4px;
    }

    .formulas-box {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 4px;
      font-family: monospace;
      margin-bottom: 15px;
    }

    .formulas-box h4 {
      margin-top: 0;
      margin-bottom: 10px;
      color: var(--primary-color);
      display: flex;
      align-items: center;
    }

    .formulas-box h4 i {
      margin-right: 8px;
    }

    .tabla-datos {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 15px;
    }

    .tabla-datos th,
    .tabla-datos td {
      padding: 10px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }

    .tabla-datos th {
      background-color: var(--primary-color);
      color: white;
    }

    .tabla-datos tr:nth-child(even) {
      background-color: rgba(255, 255, 255, 0.05);
    }

    .lista-items {
      list-style-type: none;
      padding-left: 0;
    }

    .lista-items li {
      padding: 8px 0;
      padding-left: 25px;
      position: relative;
    }

    .lista-items li:before {
      content: '\f0c8';
      font-family: 'Font Awesome 5 Free';
      position: absolute;
      left: 0;
      color: var(--primary-color);
    }

    .seccion {
      margin-bottom: 15px;
    }

    .seccion h4 {
      color: var(--primary-color);
      margin-bottom: 10px;
      display: flex;
      align-items: center;
    }

    .seccion h4 i {
      margin-right: 8px;
    }

    .tarea-botones {
      display: flex;
      gap: 10px;
      margin-top: 15px;
    }

    .btn-ver-contenido, .btn-descargar, .btn-ver-github {
      padding: 8px 15px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 0.9em;
      transition: background-color 0.3s ease, transform 0.3s ease;
      display: flex;
      align-items: center;
    }

    .btn-ver-contenido {
      background-color: #007bff;
      color: white;
    }

    .btn-descargar {
      background-color: #28a745;
      color: white;
    }

    .btn-ver-github {
      background-color: #333;
      color: white;
    }

    .btn-ver-contenido:hover, .btn-descargar:hover, .btn-ver-github:hover {
      transform: translateY(-2px);
      filter: brightness(110%);
    }

    .progreso-semana {
      height: 10px;
      background-color: #444;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 15px;
    }

    .progreso-barra {
      height: 100%;
      background-color: var(--primary-color);
      transition: width 0.3s ease;
    }

    footer {
      background-color: var(--secondary-color);
      color: white;
      text-align: center;
      padding: 1em;
      position: relative;
      bottom: 0;
      width: 100%;
    }

    @media (max-width: 768px) {
      .tarea-botones {
        flex-direction: column;
      }
      
      .btn-ver-contenido, .btn-descargar, .btn-ver-github {
        width: 100%;
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <header>
    <h1><i class="fas fa-tasks"></i> Tareas por Semanas</h1>
    <h2>Christian C. Turín</h2>
    <nav>
      <ul>
        <li><a href="index.html"><i class="fas fa-home"></i> Volver a la página principal</a></li>
      </ul>
    </nav>
  </header>
  <main>
    <div id="tareas-container">
      <!-- Las semanas y tareas se generarán dinámicamente aquí -->
    </div>
  </main>
  <footer>
    <p>&copy; 2024 Programación de Aplicaciones Móviles Web</p>
  </footer>

  <script>
    const tareasData = [
      {
        semana: 3,
        tareas: [
          {
            id: 3,
            descripcion: 'Ejercicio 1',
            titulo: 'Cálculo de Área y Volumen de Cilindro',
            icono: 'code',
            enunciado: 'Diseñe un programa en Lenguaje Dart que determine el área total (A) y el volumen (V) de un cilindro del que se conoce su radio (r) y su altura (h).',
            formulas: ['A = 2πr(r+h)', 'V = π r²h'],
            archivo: 'tareas/semana03/ejercicio01.dart',
            tipo: 'dart'
          },
          {
            id: 4,
            descripcion: 'Ejercicio 2',
            titulo: 'Distribución de Dinero entre Hijos',
            icono: 'money-bill-wave',
            enunciado: 'Un padre repartirá una cantidad de dinero entre sus cinco hijos.',
            distribucion: [
              'Tamar: 85% del monto recibido por Josué',
              'Josué: 27% de la cantidad a repartir',
              'Caleb: 23% del monto total recibido entre Josué y Daniel',
              'Daniel: 25% de la cantidad a repartir',
              'David: lo que queda del dinero a repartir'
            ],
            archivo: 'tareas/semana03/ejercicio02.dart',
            tipo: 'dart'
          },
          {
            id: 5,
            descripcion: 'Ejercicio 3',
            titulo: 'Presupuesto de Feria',
            icono: 'chart-pie',
            enunciado: 'La empresa "Juanito Import" SAC expondrá sus productos en una feria.',
            presupuesto: [
              'Alquiler de espacio en la feria (23%)',
              'Publicidad (7%)',
              'Transporte (26%)',
              'Servicios feriales (12%)',
              'Decoración (21%)',
              'Gastos varios (11%)'
            ],
            archivo: 'tareas/semana03/ejercicio03.dart',
            tipo: 'dart'
          }
        ]
      },
      {
        semana: 4,
        tareas: [
          {
            id: 6,
            descripcion: 'Ejercicio 1',
            titulo: 'Cálculo de Pensión Universitaria',
            icono: 'university',
            enunciado: 'Cálculo de descuentos en pensiones universitarias basado en categorías y promedios.',
            tablas: [
              {
                titulo: 'Categorías y Pensiones',
                datos: [
                  ['A', 'S/. 550'],
                  ['B', 'S/. 500'],
                  ['C', 'S/. 460'],
                  ['D', 'S/. 400']
                ]
              },
              {
                titulo: 'Descuentos por Promedio',
                datos: [
                  ['0 a 13.99', 'No hay descuento'],
                  ['14.00 a 15.99', '10%'],
                  ['16.00 a 17.99', '12%'],
                  ['18.00 a 20.00', '15%']
                ]
              }
            ],
            archivo: 'tareas/semana04/ejercicio01.dart',
            tipo: 'dart'
          },
          {
            id: 7,
            descripcion: 'Ejercicio 2',
            titulo: 'Venta de Libretas Militares',
            icono: 'id-card',
            enunciado: 'Cálculo de descuentos para libretas militares basado en edad y nivel del sistema de beneficio.',
            categorias: [
              {
                titulo: 'Mayores de 18 años (Costo base: S/. 350)',
                descuentos: [
                  'Nivel 1: 40% de descuento',
                  'Nivel 2: 30% de descuento',
                  'Nivel 3: 15% de descuento',
                  'Otros niveles: Sin descuento'
                ]
              },
              {
                titulo: 'Jóvenes de 18 años (Costo base: S/. 200)',
                descuentos: [
                  'Nivel 1: 60% de descuento',
                  'Nivel 2: 40% de descuento',
                  'Nivel 3: 20% de descuento',
                  'Otros niveles: Sin descuento'
                ]
              }
            ],
            archivo: 'tareas/semana04/ejercicio02.dart',
            tipo: 'dart'
          },
          {
            id: 8,
            descripcion: 'Ejercicio 3',
            titulo: 'Cálculo Salarial de Vendedores',
            icono: 'calculator',
            enunciado: 'Sistema de cálculo de salarios para vendedores incluyendo comisiones y bonificaciones.',
            calculos: [
              'Sueldo básico: S/.600',
              'Comisión: 7% si ventas > S/.15000, 5% en caso contrario',
              'Bonificación por hijo: S/.25 si hijos < 5, S/.22 en caso contrario',
              'Sueldo bruto = Sueldo básico ',
              'Descuento: 15% del sueldo bruto si es que el sueldo bruto es mayor que S/.3500; en caso contrario, 11% del sueldo bruto',
              'Sueldo neto: La resta del sueldo bruto menos el descuento'
              ],
            archivo: 'tareas/semana04/ejercicio03.dart',
            tipo: 'dart'
          }
          ]
    }
];



document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('tareas-container');
    container.innerHTML = '';

    tareasData.forEach(semana => {
        const semanaElement = document.createElement('div');
        semanaElement.className = 'semana';
        
        let contenidoHTML = `
            <div class="semana-titulo">
                <span>Semana ${semana.semana}</span>
                <i class="fas fa-chevron-down"></i>
            </div>
            <div class="tareas" style="display: none;">
        `;

        semana.tareas.forEach(tarea => {
            contenidoHTML += `
                <div class="ejercicio-card">
                    <div class="ejercicio-header">
                        <i class="fas fa-${tarea.icono}"></i>
                        ${tarea.titulo}
                    </div>
                    <div class="ejercicio-content">
                        <div class="ejercicio-description">
                            <i class="fas fa-info-circle"></i>
                            ${tarea.enunciado}
                        </div>
                        <input type="checkbox" id="checkbox-${tarea.id}">
                        <label for="checkbox-${tarea.id}"> Marcar como completada</label>
            `;

            if (tarea.formulas) {
                contenidoHTML += `
                    <div class="formulas-box">
                        <h4><i class="fas fa-square-root-alt"></i> Fórmulas:</h4>
                        ${tarea.formulas.map(formula => `<div>${formula}</div>`).join('')}
                    </div>
                `;
            }

            contenidoHTML += `
                    <div class="tarea-botones">
                        <button class="btn-ver-contenido" onclick="mostrarContenido('${tarea.archivo}', '${tarea.tipo}', ${tarea.id})">Ver contenido</button>
                        <button class="btn-descargar" onclick="descargarArchivo('${tarea.archivo}')">Descargar</button>
                        <button class="btn-ver-github" onclick="verEnGitHub('${tarea.archivo}')">Ver en GitHub</button>
                    </div>
                    <div id="contenido-${tarea.id}" style="display: none;"></div>
                </div>
            </div>
            `;

            contenidoHTML += `
                <div class="progreso-semana">
                    <div class="progreso-barra" style="width: 0%"></div>
                </div>
            `;
        });

        contenidoHTML += `</div></div>`;
        semanaElement.innerHTML = contenidoHTML;
        container.appendChild(semanaElement);

        // Event listener for accordion functionality
        const titulos = document.querySelectorAll('.semana-titulo');
        titulos.forEach(titulo => {
            titulo.addEventListener('click', () => {
                const tareas = titulo.nextElementSibling;
                const icono = titulo.querySelector('i');
                if (tareas.style.display === 'block') {
                    tareas.style.display = 'none';
                    icono.className = 'fas fa-chevron-down';
                } else {
                    tareas.style.display = 'block';
                    icono.className = 'fas fa-chevron-up';
                }
            });
        });

        // Agregar funcionalidad de checkboxes
        const checkboxes = semanaElement.querySelectorAll('.ejercicio-card input[type="checkbox"]');
        checkboxes.forEach(checkbox => {
            checkbox.addEventListener('change', (e) => {
                const tarea = e.target.closest('.ejercicio-card');
                const semana = e.target.closest('.semana');
                if (e.target.checked) {
                    tarea.classList.add('tarea-completada');
                } else {
                    tarea.classList.remove('tarea-completada');
                }
                actualizarProgreso(semana);
            });
        });
    });
});

function actualizarProgreso(semana) {
    const totalTareas = semana.querySelectorAll('.ejercicio-card').length;
    const tareasCompletadas = semana.querySelectorAll('.ejercicio-card.tarea-completada').length;
    const porcentaje = (tareasCompletadas / totalTareas) * 100;
    const barra = semana.querySelector('.progreso-barra');
    barra.style.width = `${porcentaje}%`;
}
    function mostrarContenido(archivo, tipo, id) {
      const baseUrl = 'https://raw.githubusercontent.com/Zerox30-dev/AplicacionesMoviles.github.io/main/';
      const url = baseUrl + archivo;
      
      fetch(url)
        .then(response => response.text())
        .then(data => {
          const contenidoDiv = document.getElementById(`contenido-${id}`);
          contenidoDiv.innerHTML = `<pre class="tarea-contenido-visible"><code>${data}</code></pre>`;
          contenidoDiv.style.display = contenidoDiv.style.display === 'none' ? 'block' : 'none';
        })
        .catch(error => {
          console.error('Error:', error);
          const contenidoDiv = document.getElementById(`contenido-${id}`);
          contenidoDiv.innerHTML = '<p>Error al cargar el contenido. Por favor, intenta descargarlo.</p>';
          contenidoDiv.style.display = 'block';
        });
    }

    function descargarArchivo(archivo) {
      const baseUrl = 'https://github.com/Zerox30-dev/AplicacionesMoviles.github.io/raw/main/';
      const url = baseUrl + archivo;
      window.open(url, '_blank');
    }

    function verEnGitHub(archivo) {
      const baseUrl = 'https://github.com/Zerox30-dev/AplicacionesMoviles.github.io/blob/main/';
      const url = baseUrl + archivo;
      window.open(url, '_blank');
    }

    function actualizarProgreso(semana) {
      const totalTareas = semana.querySelectorAll('.ejercicio-card').length;
      const tareasCompletadas = semana.querySelectorAll('.ejercicio-card.tarea-completada').length;
      const porcentaje = (tareasCompletadas / totalTareas) * 100;
      const barra = semana.querySelector('.progreso-barra');
      barra.style.width = `${porcentaje}%`;
    }


  </script>
</body>
</html>